\section{Scalability}
\label{sec:scalability}
The aim of this section is to study the scalability of Ethereum. Although the
scalability of blockchain, and of Ethereum in particular, is a well-known
problem and a major concern in the respective communities, in the literature
there are a limited number of \emph{scientific papers} that address this
problem. We give a little survey in \autoref{sec:background}. Next, we define
the Ethereum scalability with regards to the three axis of the Scale
Cube~\cite{bib:art-of-scalability}. We proceed first defining some metrics
useful to understand the Ethereum scalability, then measuring them in a test
environment.


\subsection{Background}
\label{sec:background}

In this Section, we point out the usual concerns about blockchain technology in
particular Bitcoin, and we analyze the related works regarding Ethereum.

\paragraph{Bitcoin} One major concern about Bitcoin and all permission-less
cryptocurrencies in general is the limited \textbf{maximum transaction
throughput}~\cite{bib:blockchain-challenges-opportunites-survey, bib:taxonomy,
bib:scaling-croman}. Thus, if the usage of this payment system augments, not all
transactions emitted can be processed in a predictable and bounded
time\footnote{\url{https://blockchain.info/charts/mempool-size}}. Moreover, the
choice of the transactions to include in the blockchain depends on the will of
the miners. Therefore it is more likely that the more profitable transactions
are included in the distributed
ledger~\cite{bib:blockchain-challenges-opportunites-survey,wood2018ethereum}.

The maximum limited transaction throughput is due~\cite{bib:ghost,
bib:scaling-croman} on the one hand to the $1$ MB \textbf{maximal block size}
and on the other hand to the $10$ minutes \textbf{block interval}.

Increasing the former would certainly augment the transaction throughput and
decrease the transaction fees, but it would also slow down the propagation time,
thus increasing the possibility of forks. Decreasing the latter would increase
the transaction throughput and increase also the possibility of forks. The
increase in the number of forks reduces the security of the whole
system~\cite{bib:ghost}. To address these bottlenecks multiple solutions were
proposed. The Blockchain systems Bitcoin Cash and Litecoin try to augment the
maximal transaction throughput by modifying the Bitcoin client to have a maximum
block size of $8$ MB and to have a block interval of $2.5$ minutes,
respectively. The GHOST~\cite{bib:ghost} protocol consider also the stale blocks
to permit to diminish the block interval while preserving the same security
guarantees of the original proof of work, as we already described in
\autoref{sec:consensus:algorithm}.

In addition to these considerations, a number of confirmation blocks are needed
to be sure that the transactions are really confirmed~\cite{bib:taxonomy}, i.e.
it is unlikely that the block in which they are included can be discarded in
favor of other blocks. This uncertainty in the acceptance of a block is also
known as \textbf{lack of Consensus Finality}~\cite{bib:the-quest} and is due to
the probabilistic nature of the PoW consensus algorithm. Currently, in Bitcoin,
the number of confirmation blocks is set to $6$~\cite{bib:masteringbitcoin}.
This means that after the insertion of a transaction in a block at least an hour
must be waited to be sure that it would be confirmed.

Another concern with this technology is the need to \textbf{store} an
increasingly large amount of data to keep the desired security guarantees.
Currently, the minimum requirement to run a Bitcoin full-node, that is, a node
that verifies all transactions, is $145$
GB\footnote{https://bitcoin.org/en/bitcoin-core/features/requirements}.

Other major concerns are related to the \textbf{cost} of the system, especially
the cost per confirmed transaction~\cite{bib:scaling-croman} that is due to the
mining cost, the transaction validation, the bandwidth and the storage.

Finally, the bootstrap time, that is, the time needed
for a new node to download and process the whole transaction history is another
key factor that can contribute to the scalability (scaling
out)~\cite{bib:scaling-croman} and openness~\cite{van2017distributed} of the
system.

\paragraph{Ethereum} Vukoli\'c~\cite{bib:the-quest} states that the introduction
of smart-contracts in Ethereum make the problem very similar to database
replication and in particular \emph{state machine replication}. Also
Wood~\cite{wood2018ethereum} argue that it is very difficult to reach a high
degree of scalability by parallelizing transactions in this system because it is
essentially a state transaction machine. Indeed the state in Ethereum influence
the smart contract execution and therefore the majority of transactions are
dependent from previous ones, thus making Ethereum \textbf{stateful}.


%*** et al. \cite{bib:sok:ethereum} individuate that scalability of blockchain
%is concerned with two major objectives: on the one hand increasing the
%transaction throughput and on the other hand
%decreasing the storage and bandwidth usage.

